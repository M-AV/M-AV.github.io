<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Kill the bug! Don&#39;t hide it | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Once or twice¹ in a developers life, will (s)he find a bug in an application (s)he is developing. It happens and it’s (often) not that big of a deal. Most developers know that detecting and fixing bug">
<meta property="og:type" content="article">
<meta property="og:title" content="Kill the bug! Don&#39;t hide it">
<meta property="og:url" content="http://yoursite.com/2014/10/29/Kill-the-bug-not-the-symptom/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Once or twice¹ in a developers life, will (s)he find a bug in an application (s)he is developing. It happens and it’s (often) not that big of a deal. Most developers know that detecting and fixing bug">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2014-10-29T00:00:00.000Z">
<meta property="article:modified_time" content="2020-06-01T23:10:41.018Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Kill-the-bug-not-the-symptom" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/29/Kill-the-bug-not-the-symptom/" class="article-date">
  <time datetime="2014-10-29T00:00:00.000Z" itemprop="datePublished">2014-10-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Kill the bug! Don&#39;t hide it
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Once or twice¹ in a developers life, will (s)he find a bug in an application (s)he is developing. It happens and it’s (often) not that big of a deal. Most developers know that detecting and fixing bugs early is a shared responsibility, so few people will think less of the developer who committed the bug. What matters is how you fix it!</p>
<p>Whenever you have a bug in your application that you deem important enough to fix, you should do it right. You can probably get away with a quick hack to quickly make your clients happy, but at some point you should return and fix it properly! Once in a while (often actually) I see people “fix” a bug, but what they are really doing is hiding it (and that is rarely a good thing).</p>
<p>Let’s say that one day you look through your error log and see that your application is throwing a lot of <code>NullReferenceExceptions</code> (or whatever the equivalent is in your programming language). From the stacktrace you can see it is happening in this function and the reason is that <code>fancyObject</code> is null.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>(<span class="params"><span class="keyword">string</span> someString, SomeObject fancyObject, <span class="keyword">int</span> aNumber</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">/*... some code ...*/</span></span><br><span class="line">	fancyObject.InvokingMethod();</span><br><span class="line">	<span class="comment">/*... some more code ...*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>You have an important business meeting, so you ask you colleague (let’s call him Carl John Johnson) to fix it. When you return from the meeting, Carl is happy to tell you that he fixed the bug with a simple and elegant solution, as can be seen here:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>(<span class="params"><span class="keyword">string</span> someString, SomeObject fancyObject, <span class="keyword">int</span> aNumber</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(fancyObject == <span class="literal">null</span>) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">	<span class="comment">/*... some code ...*/</span></span><br><span class="line">	fancyObject.InvokingMethod();</span><br><span class="line">	<span class="comment">/*... some more code ...*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>The code no longer throws a <code>NullReferenceException</code>, we didn’t change the code much to fix this error, so surely this is a good fix. Right?</p>
<p>The problem with this “fix” is that it didn’t fix anything. It prevents the application from throwing an exception, so we can no longer see that there is an error in the error log. The bug is hidden from us and just waiting to escalate into something more serious. <em>Why was <code>fancyObject</code> null in the first place?</em> </p>
<p>Whenever <code>DoSomething</code> is called, the calling code expects <code>DoSomething</code> to <em>actually do something</em>. With Carl’s fix, we can no longer be sure that that something is being done. Worse, we are not being told whether it is being done or not. Carl shouldn’t have tried to fix the error in this method. If he must do something to it I think he (probably) should have added <em>guard clauses</em>. </p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoSomething</span>(<span class="params"><span class="keyword">string</span> someString, SomeObject fancyObject, <span class="keyword">int</span> aNumber</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(someString == <span class="literal">null</span>) &#123; <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="string">"someString"</span>); &#125;</span><br><span class="line">	<span class="keyword">if</span>(fancyObject == <span class="literal">null</span>) &#123; <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="string">"fancyObject"</span>); &#125;</span><br><span class="line">	<span class="comment">/*... the rest of the method ...*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><em>But.. This doesn’t fix the issue? It just causes different exception to be thrown. Why is this useful?</em> Because now the error we get is more meaningful. We are failing earlier and closer to the actual issue and it is a little bit clearer what happened. We still don’t know why <code>fancyObject</code> is null, but we know that the issue is <em>not in this method</em>. The guard clauses clearly states that this method is not supposed to be called with null objects, so we need to figure out why it is. When we figure out why <code>fancyObject</code> is null, we find the real issue and we can take appropriate action (and thereby avoid calling <code>DoSomething</code> in the first place.)</p>
<p>There is a million reasons why <code>fancyObject</code> could be null and it doesn’t really matter why it is (for this example). The point is, you should always try to track down the <em>source</em> of an issue and see if you can fix it from there. Don’t hide the error as Carl John Johnson did and think everything is dandy. <strong>Try to fix the code properly!</strong></p>
<p>These kind of fixes typically happens when we notice the issue far away from where the problem actually is. This is one of the reasons I’m a fan of <a href="http://www.martinfowler.com/ieeeSoftware/failFast.pdf" target="_blank" rel="noopener" title="Fail Fast - Jim Shore">failing fast</a>, where we try to force ourselves to notice (or force the application to tell us about) an error close to where the issue actually is.</p>
<p>I am well aware that sometimes these kind of fixes might actually be the right way to go. The problem is that sometimes it seems these kinds of fixes are the default solution. There is a very good chance that at some point you will have to fix the issue anyways, so why not fix it as early as possible? </p>
<ul>
<li><ol>
<li>Roughly..</li>
</ol>
</li>
</ul>
<!-- Bibliography -->


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/10/29/Kill-the-bug-not-the-symptom/" data-id="ckax3wp6700043mtx5d8c3im9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/02/07/Csharp-Language-Weirdness/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          C# Language Weirdness
        
      </div>
    </a>
  
  
    <a href="/2014/09/08/Shoutout-to-Any/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Shout-out to &#39;Any()&#39;</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/" rel="tag">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSL/" rel="tag">SSL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Security/" rel="tag">Security</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET/" style="font-size: 10px;">.NET</a> <a href="/tags/C/" style="font-size: 20px;">C#</a> <a href="/tags/SSL/" style="font-size: 10px;">SSL</a> <a href="/tags/Security/" style="font-size: 10px;">Security</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/03/Bank-Grade-Security-Danish-Edition-v2/">Bank Grade Security - Danish bank edition v2</a>
          </li>
        
          <li>
            <a href="/2015/05/06/Bank-Grade-Security-Danish-Edition/">Bank Grade Security - Danish bank edition</a>
          </li>
        
          <li>
            <a href="/2015/02/07/Csharp-Language-Weirdness/">C# Language Weirdness</a>
          </li>
        
          <li>
            <a href="/2014/10/29/Kill-the-bug-not-the-symptom/">Kill the bug! Don&#39;t hide it</a>
          </li>
        
          <li>
            <a href="/2014/09/08/Shoutout-to-Any/">Shout-out to &#39;Any()&#39;</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>